
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>

<title>Reporting Errors in Cross Post | thecave</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="robots" content="index, follow" />

<link rel="stylesheet" type="text/css" href="/styles/typebased/style.css" />
<link rel="alternate" type="application/atom+xml" title="Atom 0.3" href="/atom.xml" />

<!--[if IE 6]>
<script type="text/javascript" src="/styles/typebased/includes/js/menu.js"></script>
<![endif]-->

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.0/jquery.min.js" type="text/javascript"></script>
<script type='text/javascript' src='/styles/typebased/includes/js/superfish.js?ver=3.3.2'></script>
<script type="text/javascript" src="/js/lastfm.js"></script>

<!-- Alt Stylesheet -->
<link href="/styles/typebased/styles/grey.css" rel="stylesheet" type="text/css" />

<!-- Woo Shortcodes CSS -->
<link href="/styles/typebased/functions/css/shortcodes.css" rel="stylesheet" type="text/css" />

<!-- Custom Stylesheet -->
<link href="/styles/typebased/custom.css" rel="stylesheet" type="text/css" />
<meta id="syntaxhighlighteranchor" name="syntaxhighlighter-version" content="3.1.3" />

<link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">

</head>

<body class="home blog unknown">

<div id="container">

	<div id="header">
		<h1>
			<a href="/" title="Ramblings from a crotchety old man.">
			<img src="/images/thecave-logo-2.png" style="margin-top:0px;" alt="thecave" /></a></h1>
	</div>

	
	<div id="menu">
				<ul id="navigation" class="nav wrap">
										<li class="page_item current_page_item first"><a href="/"><span>Home</span></a></li>
										<li class="page_item last"><a href="/about.html"><span>About</span></a></li>
										</ul>
			</div>
	<div class="wrap background">

		<div id="content" class="left-col wrap">
            <!--- Post Starts -->
<div class="post wrap page">

    <div class="post-meta left-col">
    <h3 class="wrap"><span class="month">Sep<span class="year">2014</span></span><span class="day">14</span></h3>
    <h4 class="author">kirbyt</h4>
    </div>

    <div class="post-content right-col">
    <h2><a href="/2014/09/14/reporting-errors-in-cross-post/" rel="bookmark" title="Reporting Errors in Cross Post">Reporting Errors in Cross Post</a></h2>

    <p>A friend sent me suggestions on handling error reporting for Cross Post. I decided write up my current thinking here to see if my approach makes sense. Besides, trying to explain it in a set of 140 character tweets is less than ideal.</p>

<p>The challenge I face is reporting errors, or any status reporting for that matter, that happen once the server takes over the process. A timeout error, for example, could occur while the server is uploading a photo to Twitter. At this point the server no longer has a connection to the app, so trickling the error up to the app is not an option.</p>

<p>One option is to let the server eat the error. I know of a few similar solutions that eat the error, and I stopped using those apps for that very reason. If I ask an app to post something to Facebook, and the post never appears, then I want to know why. Letting the server eat the error is not an option for Cross Post. But how does the Cross Post app learn about the error?</p>

<p>One option is to use push notifications. When an error occurs the server can notify the user via a push notification. But this isn’t a trivial task to implement and it’s a path I don’t care to pursue unless absolutely necessary.</p>

<p>Another option, and the one I’m considering at the moment, is having the app include a unique identifier in the payload sent to the server. You can think of the identifier as a handle that the app can use to query to server for the status of the post.</p>

<p>If an error occurs on the server, the server will store the error with the identifier provided by the app as the primary key. The next time the app launches, it will check with the server to see if there were any errors. Once the app learns about the error, the server deletes the error from its data store.</p>

<p>This is a more reactive approach to reporting errors instead of a proactive approach, but it’s a cleaner solution than going down the push notification route. Beside, push notifications are not guaranteed so this approach is as reliable if not more reliable.</p>

<p>There are problems with this approach. First starters, only the device that sent the post will know to check for the error. Say I send a new post to Facebook using my iPhone. The post fails to make its way to Facebook. I launch Cross Post on my iPad. The iPad does not know about the post sent from iPhone, so it does not know to check for an error.</p>

<p>Now there are ways around this new problem. I could ask each user for a unique identifier such as an email address or username, but that’s another road I don’t care to travel down. People have more than enough logins to remember without me asking them to setup yet another online account and log into Cross Post. Besides, Cross Post can use iCloud to sync the unique identifier for each post between devices. In fact, this is what I will likely do. Key-value syncing using iCloud has been reliable for some time now, so why take advantage of it.</p>

<p>The other problem with having the app check the server for error reports is that now the server must persist the error report. This means I need to have some type of data persistence store. I could use the file system on the server, but I’ve configured my server app to scale. This means a load balancer is in place and as traffic increases OpenShift will spawn new server instances. This means it is possible that the server that caught the error will not be the server that the app queries for error reports. So storing the error report on the server’s file system is not an option. An additional server, aka a database server, is needed to persist the error reports.</p>

<p>Having an additional server for data persistence isn’t a big deal for OpenShift, but it is just one more server that must always be available. And now the backend for Cross Post is starting to grow. A couple of weeks ago the entire Cross Post solution ran on an iOS device. Now the solution spans the device and a server environment, and next I have to throw in a database server just for error reporting!?</p>

<p>Having the database does seem a bit overkill at the moment, but there might be a need for a database for persistent storage down the road anyways. So it looks like I will be adding a MongoDB database to the mix very soon. That is unless someone has a better idea to share with me.</p>

<p>Update: I came up with a <a href="http://www.thecave.com/2014/09/15/reporting-errors-in-cross-post-part-2/">third option</a> that is by far my favorite.</p>




    <div>Posted in <a class='category' href='/category/apps/'>apps</a>, <a class='category' href='/category/cross post/'>cross post</a>, <a class='category' href='/category/ios/'>ios</a>, <a class='category' href='/category/programming/'>programming</a>.</div>

    <hr />
    
        <a href="/2014/09/14/cross-posting-to-app.net-facebook-and-twitter/" title="Previous Post: Cross Posting to App.net, Facebook, and Twitter" class="post-footer">&laquo; Cross Posting to App.net, Facebook, and Twitter</a>
    
    
        &nbsp; | &nbsp;
        <a href="/2014/09/15/reporting-errors-in-cross-post-part-2/" title="Next Post: Reporting Errors in Cross Post Part 2" class="post-footer">Reporting Errors in Cross Post Part 2 &raquo;</a>
    

    </div>
</div>
<!--- Post Ends -->

		</div>

				<!--- Sidebar Starts -->

		<div id="sidebar" class="right-col">

			<div id="search">
                <form action="http://google.com/search" method="get">
                    <div>
                    <input type="hidden" name="q" value="site:thecave.com" />
					<input type="text" class="search_box" name="q" id="q" results="0" />
					<input type="image" src="/styles/typebased/images/search.gif" class="submit" name="submit" />
                    </div>
                </form>
			</div>

			<div id="sidebar_in">

			<div id="lastfm-1" class="block widget widget_lastfm">
    <h2><a href="http://last.fm/user/kirbyt" class="lastfm_title_link">Listening To</a></h2>
    <div class="lastfm">
    </div>
</div>



        <div id="linkcat-2" class="block widget widget_links"><h2>Blogroll</h2>
            <ul class='xoxo blogroll'>
            <li><a href="http://www.rowanturner.net/">Rowan T</a></li>
            <li><a href="http://photos.thecave.com/">Photos</a></li>
            <li><a href="http://www.learnipadprogramming.com/">Learning iPad Programming</a></li>
            <li><a href="http://blog.whitepeaksoftware.com/">White Peak Software</a></li>
            </ul>
        </div>

		<div id="linkcat-3" class="block widget widget_links"><h2>Categories</h2>
    <ul>
        <li class='category'><a href='/category/apps/'>apps (5)</a></li>
<li class='category'><a href='/category/backpack/'>backpack (1)</a></li>
<li class='category'><a href='/category/backpacking/'>backpacking (8)</a></li>
<li class='category'><a href='/category/blogger/'>blogger (785)</a></li>
<li class='category'><a href='/category/camping/'>camping (11)</a></li>
<li class='category'><a href='/category/cross-post/'>cross post (3)</a></li>
<li class='category'><a href='/category/family/'>family (4)</a></li>
<li class='category'><a href='/category/fitness/'>fitness (2)</a></li>
<li class='category'><a href='/category/general/'>general (11)</a></li>
<li class='category'><a href='/category/hiking/'>hiking (8)</a></li>
<li class='category'><a href='/category/humor/'>humor (1)</a></li>
<li class='category'><a href='/category/ios/'>ios (8)</a></li>
<li class='category'><a href='/category/kayaking/'>kayaking (1)</a></li>
<li class='category'><a href='/category/life/'>life (2)</a></li>
<li class='category'><a href='/category/long-trail/'>long-trail (2)</a></li>
<li class='category'><a href='/category/moving/'>moving (1)</a></li>
<li class='category'><a href='/category/opinion/'>opinion (2)</a></li>
<li class='category'><a href='/category/pictures/'>pictures (8)</a></li>
<li class='category'><a href='/category/programming/'>programming (5)</a></li>
<li class='category'><a href='/category/random/'>random (4)</a></li>
<li class='category'><a href='/category/rant/'>rant (2)</a></li>
<li class='category'><a href='/category/rowan/'>rowan (4)</a></li>
<li class='category'><a href='/category/salem/'>salem (1)</a></li>
<li class='category'><a href='/category/skiing/'>skiing (2)</a></li>
<li class='category'><a href='/category/snowboarding/'>snowboarding (5)</a></li>
<li class='category'><a href='/category/social/'>social (2)</a></li>
<li class='category'><a href='/category/stowe/'>stowe (2)</a></li>
<li class='category'><a href='/category/tech/'>tech (1)</a></li>
<li class='category'><a href='/category/travel/'>travel (3)</a></li>
<li class='category'><a href='/category/trips/'>trips (5)</a></li>
<li class='category'><a href='/category/videos/'>videos (2)</a></li>
<li class='category'><a href='/category/work/'>work (4)</a></li>

    </ul>
</div>

        <div id="archives-3" class="block widget widget_archive"><h2>Archives</h2>
        <ul class='archives'>
        <li><a href="/blog/archives">The Complete Blog Archives</a></li>
        </ul>
        </div>


			</div>

		</div>

		<!--- Sidebar Ends -->
	</div>

</div>

<div id="footer" class="wrap">

	<div class="left-col">
		<div class="popular wrap">
			<h2>Recent Articles</h2>
			<ul>
                
                  <li><a href="/2014/09/16/using-xcodebuild-to-export-an-ipa-from-an-archive/" title="Using xcodebuild To Export An .ipa From An Archive">Using xcodebuild To Export An .ipa From An Archive</a></li>
                
                  <li><a href="/2014/09/15/reporting-errors-in-cross-post-part-2/" title="Reporting Errors in Cross Post Part 2">Reporting Errors in Cross Post Part 2</a></li>
                
                  <li><a href="/2014/09/14/reporting-errors-in-cross-post/" title="Reporting Errors in Cross Post">Reporting Errors in Cross Post</a></li>
                
                  <li><a href="/2014/09/14/cross-posting-to-app.net-facebook-and-twitter/" title="Cross Posting to App.net, Facebook, and Twitter">Cross Posting to App.net, Facebook, and Twitter</a></li>
                
                  <li><a href="/2014/09/10/iphone-6-plus-pocket-test/" title="iPhone 6 and 6 Plus Pocket Test">iPhone 6 and 6 Plus Pocket Test</a></li>
                
            </ul>
		</div>
	</div>

	<div id="subscribe" class="right-col">
		<h2>Subscribe to RSS</h2>
		<p class="rss">If you enjoyed the post, make sure you subscribe to the RSS feed.</p>
		<p>
		<a href="/atom.xml">Articles</a><br />
		</p>
	</div>

<div id="copyright" class="wrap">

	<div class="left-col">
		<p>&copy; 2014</p>
	</div>

	<div class="right-col">
		<p>Design by <a href="http://woothemes.com"><img src="/styles/typebased/styles/grey/logo-footer.jpg" width="87" height="21" alt="woo themes" /></a></p>
	</div>

</div>

</div>
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-167605-3']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>

</body>
</html>
<!-- Localized -->
